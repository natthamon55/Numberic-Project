# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'gui.ui'
#
# Created by: PyQt5 UI code generator 5.15.0
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from PIL import Image, ImageQt
from ode import *

class Ui_GUI(object):
    def setupUi(self, GUI):
        GUI.setObjectName("GUI")
        GUI.resize(825, 613)
        self.centralwidget = QtWidgets.QWidget(GUI)
        self.centralwidget.setObjectName("centralwidget")
        self.label = QtWidgets.QLabel(self.centralwidget)
        self.label.setGeometry(QtCore.QRect(70, 30, 231, 16))
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.label.setFont(font)
        self.label.setObjectName("label")
        self.equation = QtWidgets.QTextEdit(self.centralwidget)
        self.equation.setGeometry(QtCore.QRect(320, 20, 241, 31))
        self.equation.setObjectName("equation")
        self.label_2 = QtWidgets.QLabel(self.centralwidget)
        self.label_2.setGeometry(QtCore.QRect(125, 130, 131, 16))
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.label_2.setFont(font)
        self.label_2.setObjectName("label_2")
        self.t1 = QtWidgets.QTextEdit(self.centralwidget)
        self.t1.setGeometry(QtCore.QRect(315, 120, 51, 31))
        self.t1.setObjectName("t1")
        self.t2 = QtWidgets.QTextEdit(self.centralwidget)
        self.t2.setGeometry(QtCore.QRect(420, 120, 51, 31))
        self.t2.setObjectName("t2")
        self.label_3 = QtWidgets.QLabel(self.centralwidget)
        self.label_3.setGeometry(QtCore.QRect(380, 130, 16, 16))
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.label_3.setFont(font)
        self.label_3.setObjectName("label_3")
        self.g1 = QtWidgets.QGraphicsView(self.centralwidget)
        self.g1.setGeometry(QtCore.QRect(10, 200, 381, 271))
        self.g1.setObjectName("g1")
        self.g1_scene = QtWidgets.QGraphicsScene(self.centralwidget)
        self.g1.setScene(self.g1_scene)
        self.ode_method_item = self.g1_scene.addPixmap(QtGui.QPixmap())
        self.g2 = QtWidgets.QGraphicsView(self.centralwidget)
        self.g2.setGeometry(QtCore.QRect(430, 200, 371, 271))
        self.g2_scene = QtWidgets.QGraphicsScene(self.centralwidget)
        self.g2.setScene(self.g2_scene)
        self.ode_err_item = self.g2_scene.addPixmap(QtGui.QPixmap())

        self.g2.setObjectName("g2")
        self.label_4 = QtWidgets.QLabel(self.centralwidget)
        self.label_4.setGeometry(QtCore.QRect(180, 180, 55, 16))
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.label_4.setFont(font)
        self.label_4.setObjectName("label_4")
        self.label_5 = QtWidgets.QLabel(self.centralwidget)
        self.label_5.setGeometry(QtCore.QRect(580, 180, 101, 16))
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.label_5.setFont(font)
        self.label_5.setObjectName("label_5")
        self.label_6 = QtWidgets.QLabel(self.centralwidget)
        self.label_6.setGeometry(QtCore.QRect(230, 540, 55, 16))
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.label_6.setFont(font)
        self.label_6.setObjectName("label_6")
        self.label_7 = QtWidgets.QLabel(self.centralwidget)
        self.label_7.setGeometry(QtCore.QRect(420, 540, 61, 16))
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.label_7.setFont(font)
        self.label_7.setObjectName("label_7")
        self.label_9 = QtWidgets.QLabel(self.centralwidget)
        self.label_9.setGeometry(QtCore.QRect(360, 500, 101, 21))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.label_9.setFont(font)
        self.label_9.setObjectName("label_9")
        self.label_11 = QtWidgets.QLabel(self.centralwidget)
        self.label_11.setGeometry(QtCore.QRect(370, 530, 16, 21))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.label_11.setFont(font)
        self.label_11.setObjectName("label_11")
        self.label_12 = QtWidgets.QLabel(self.centralwidget)
        self.label_12.setGeometry(QtCore.QRect(580, 540, 31, 16))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.label_12.setFont(font)
        self.label_12.setObjectName("label_12")
        self.b1 = QtWidgets.QPushButton(self.centralwidget)
        self.b1.setGeometry(QtCore.QRect(600, 70, 121, 41))
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.b1.setFont(font)
        self.b1.setStyleSheet("background-color: rgb(170, 255, 127);")
        self.b1.setObjectName("b1")
        self.b1.clicked.connect(self.translate2graph)
        self.label_8 = QtWidgets.QLabel(self.centralwidget)
        self.label_8.setGeometry(QtCore.QRect(185, 80, 111, 20))
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.label_8.setFont(font)
        self.label_8.setObjectName("label_8")
        self.equation_2 = QtWidgets.QTextEdit(self.centralwidget)
        self.equation_2.setGeometry(QtCore.QRect(320, 70, 71, 31))
        self.equation_2.setObjectName("equation_2")
        self.t_ode = QtWidgets.QTextEdit(self.centralwidget)
        self.t_ode.setGeometry(QtCore.QRect(290, 530, 61, 31))
        self.t_ode.setObjectName("t_ode")
        self.t_sol = QtWidgets.QTextEdit(self.centralwidget)
        self.t_sol.setGeometry(QtCore.QRect(490, 530, 71, 31))
        self.t_sol.setObjectName("t_sol")
        GUI.setCentralWidget(self.centralwidget)
        self.statusbar = QtWidgets.QStatusBar(GUI)
        self.statusbar.setObjectName("statusbar")
        GUI.setStatusBar(self.statusbar)

        self.retranslateUi(GUI)
        QtCore.QMetaObject.connectSlotsByName(GUI)

    def retranslateUi(self, GUI):
        _translate = QtCore.QCoreApplication.translate
        GUI.setWindowTitle(_translate("GUI", "gui"))
        self.label.setText(_translate("GUI", "Enter what you want to calculate"))
        self.label_2.setText(_translate("GUI", "Enter time interval"))
        self.label_3.setText(_translate("GUI", "to"))
        self.label_4.setText(_translate("GUI", "ODE"))
        self.label_5.setText(_translate("GUI", "Error in ODE"))
        self.label_6.setText(_translate("GUI", "Odient"))
        self.label_7.setText(_translate("GUI", "Solve IVP"))
        self.label_9.setText(_translate("GUI", "Time Result"))
        self.label_11.setText(_translate("GUI", "s"))
        self.label_12.setText(_translate("GUI", "s"))
        self.b1.setText(_translate("GUI", "Calculate"))
        self.label_8.setText(_translate("GUI", "Initial condition"))

    def translate2graph(self):
        ode_time,ivp_time = calculate(expr=self.equation.toPlainText(),cond=self.equation_2.toPlainText(),time_start=self.t1.toPlainText(),time_end=self.t2.toPlainText())
        ode_method_img = ImageQt.ImageQt(Image.open("ode_method.png"))
        self.ode_method_item.setPixmap(QtGui.QPixmap.fromImage(ode_method_img))
        ode_err_img = ImageQt.ImageQt(Image.open("ode_err.png"))
        self.ode_err_item.setPixmap(QtGui.QPixmap.fromImage(ode_err_img))
        self.t_ode.setText(ode_time)
        self.t_sol.setText(ivp_time)
if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    GUI = QtWidgets.QMainWindow()
    ui = Ui_GUI()
    ui.setupUi(GUI)
    GUI.show()
    sys.exit(app.exec_())
